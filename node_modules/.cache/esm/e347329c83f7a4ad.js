let express,mongoose,routes,APP_PORT,CONNECTION_URL,errorHandler,fetchJson;_83f‍.w("express",[["default",["express"],function(v){express=v}]]);_83f‍.w("mongoose",[["default",["mongoose"],function(v){mongoose=v}]]);_83f‍.w("./src/routes",[["default",["routes"],function(v){routes=v}]]);_83f‍.w("./src/config",[["APP_PORT",["APP_PORT"],function(v){APP_PORT=v}],["CONNECTION_URL",["CONNECTION_URL"],function(v){CONNECTION_URL=v}]]);_83f‍.w("./src/middleware/errorHandler",[["default",["errorHandler"],function(v){errorHandler=v}]]);_83f‍.w("fetch-json",[["fetchJson",["fetchJson"],function(v){fetchJson=v}]]);






const app = express()


// mongodb connection
mongoose.connect(`${CONNECTION_URL}`, 
	{
    useNewUrlParser: true,
    useUnifiedTopology: true
	}
).then(() => {
	console.log('Mongodb connected!')
}).catch(err => _83f‍.g.console.log(err));

app.use(express.json());
app.use(express.urlencoded({
  extended: true
}));

//routes
app.use('/api', routes)

//
const url =    'https://graph.facebook.com/me?fields=id,name,email&access_token=EAAa2bUTwu3ABABgAXNxXCmxDvuAHJ8YWF1fp7WojsN4hbrpylEZCCDXGGupZCeUbqKXQPA1sZA2C9je7RzW0eJzFfcHreeZC3wfBdVUrdqS3DdH4SOPrfGU7vSc6pIrl7rwXko00P8GXZApgCQvamg3OW8ZAvFZCrB1CyQ3m67fKdvqGZARZBHMEMxc27hGNfRya3JK0EU9mj8q5CCnEeIVSxx54MQVZB6rOqtzIJ357PT5S2SWRssBPUfSnEz2l2Fj7QZD';
const params = { api_key: 'DEMO_KEY' };
const handleData = (data) =>
   _83f‍.g.console.log('The NASA APoD for today is at:', data);
fetchJson.get(url, params).then(handleData);


fetch(url)
  .then(response => response.json())
  .then(data => _83f‍.g.console.log(data));
app.use(errorHandler)

app.listen(APP_PORT, ()=> {
    console.log(`App is running on ${APP_PORT}`)
})